<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Gun Violence</title>
    <link rel="stylesheet" type="text/css" href="stylesheet.css">
    <script src="https://aframe.io/releases/0.3.0/aframe.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
		<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
		<script src="https://github.com/ngokevin/aframe-physics-components/blob/master/dist/aframe-physics-components.min.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDzEwr5rd_4IimuesMERA_FxCqRXZ2KbQM"></script>
		<script src="papaparse.min.js"></script>
  </head>
  <body>
		<div class="topbar">
			<span id="out">loading...</span>
		</div>
		<div class="bottombar">
			<span id="bot">city, state</span>
			<div id="info"></div>
		</div>
    <a-scene physics-world="gravity: 0 -9.8 0">
			<a-assets>
				<a-asset-item id="gun-dae" src="assets/gunColladaVersion.dae"></a-asset-item>
				<a-asset-item id="car-dae" src="assets/carcollada.dae"></a-asset-item>
				<a-asset-item id="bullet-dae" src="assets/Bullet.dae"></a-asset-item>
				<a-asset-item class="brick-dae" src="assets/Brick.dae"></a-asset-item>
				<a-asset-item class="brick-tex" src="assets/brick-cinder_small.jpg"></a-asset-item>
			</a-assets>
			<!--Gun-->
			<a-collada-model id="gun"
								collada-model="#gun-dae"
								position="0.00 1.62 1.88"
								rotation="-90 -90 178"
								scale="0.10 0.10 0.10"
								sound="src: url(Gunshot.mp3); on: shotsound"
								material="src: url(assets/handgun-texture.png)"
								event-set="_event: mouseenter; scale: 3 1 1">>
									<a-animation begin="shot"
											attribute="rotation"
											from="-90 -90 178"
											to="-60 -90 178"
											dur="500"
											easing="ease-out-back"
											direction="alternate"
											repeat="1"></a-animation>
			</a-collada-model>
			<a-collada-model id="car" collada-model="#car-dae" position="-1.55 1.2 -1.95" rotation="0 105.99719209920231 0" scale="3.5 3.5 3.5" material="src: url(assets/textures/Material _293_albedo.jpg)">
			</a-collada-model>
			<a-entity id="PutBulletsHere">

			</a-entity>
			<!--Bricks-->
			<a-box position="0 0.21 1.95" rotation="0 0 0" width="1" height="1" depth="1" color="#4a3523" scale="1 0.4 0.4"  visible="true"></a-box>
			<a-box position="0.25 0.61 1.7" rotation="0 105.61098708313976 0" width="1" height="1" depth="1" color="#4a3523" scale="1 0.4 0.4" visible="true"></a-box>
			<a-box position="-0.28 0.62 1.7" rotation="0 -84.79775367936183 0" width="1" height="1" depth="1" color="#4a3523" scale="1 0.4 0.4" visible="true"></a-box>
			<a-box position="0 1.02 1.94" rotation="0 12.60507149287811 0" width="1" height="1" depth="1" color="#4a3523" scale="1 0.4 0.4" visible="true"></a-box>
			<a-box position="0 0.22 1.44" rotation="0 -15.469860468532229 0" width="1" height="1" depth="1" color="#4a3523" scale="1 0.4 0.4" visible="true"></a-box>
			
			<!--Grass-->
			<a-box position="0.91 0.34 1.46" rotation="0 -26.35605857601787 0" width="1" height="1" depth="1" material="color:#008000"  scale="0.55 0.55 0" visible="true"></a-box>
			
			<!--Concrete-->
			<a-plane rotation="-90 0 0" width="4" height="4" src="assets/Texture/concrete.jpg" position="-0.01 0.02 1.67" scale="1 1 1" visible="true"></a-plane>
			
			<!--Floor-->
			<a-plane rotation="-90 0 0" width="100" height="100" color="#ECECEC"></a-plane>
			
      <a-sky color="#ECECEC"></a-sky>
      <a-entity position="0 0 3.8">
        <a-camera>
					<a-entity camera mouse-cursor></a-entity>
				</a-camera>
      </a-entity>
    </a-scene>
		<script src="NewSceneGenerate.js"></script>
		<script type="text/javascript">
			$( ".bullet" ).on( "thing", function() {
			  console.log("this");
			  $( "#info" ).append( $('.bullet').attr('data-incident'));
			});
			$('#goto1').click(function(e){
						console.log("this");
  				$( "#info" ).append( $('.bullet').attr('data-incident'));
					});
			$( ".bullet" ).mouseout(function() {
  				$( "#info" ).empty();
			});
		</script>
  </body>
</html>